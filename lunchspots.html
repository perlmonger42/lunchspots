<head>
  <title>Ban Chi Lunch Spots</title>
</head>

<body>
  {{> controls}}
  <div id="outer">
    {{> lunchspots}}
  </div>
</body>

<template name="controls">
  <div style="float: left">{{loginButtons align="left"}}</div>
  <div style="float: right"><span id="recalc">Recalculate Scores</span></div>
</template>

<template name="lunchspots">
  <h1>Ban Chi Lunch Spots</h1>
  <div class="venue-list">
    {{#each venues}}
      {{> venue}}
    {{/each}}
  </div>

  {{>venueAdd}}
</template>

<template name="venue">
  <div class="venue_list_item {{selected}}">
    <span class="top-align">
      <span class="destroy">&#x2612;</span>
    </span>
    <span class="score">{{roundedScore}}</span>
    <div class="name-and-address">
      <span class="name">{{name}}</span>
      <br>
      <span class="address">{{address}}, {{city}}</span>
    </div>
    <span class="like">
      <span class="rate {{ratingStatus  0}}" title="Hate It">0</span>
      <span class="rate {{ratingStatus  2}}" title="Really Dislike It">2</span>
      <span class="rate {{ratingStatus  4}}" title="Dislike It">4</span>
      <span class="rate {{ratingStatus  5}}" title="Don't Care">X</span>
      <span class="rate {{ratingStatus  6}}" title="Like It">6</span>
      <span class="rate {{ratingStatus  8}}" title="Really Like It">8</span>
      <span class="rate {{ratingStatus 10}}" title="Love It">10</span>
      <br>
      {{ratingSum}} / {{ratingCount}} = {{rawScore}} ({{roundedScore}} out of 10)
    </span>
  </div>
</template>

<template name="venueAdd">
  <div class="venue-add">
    <h1>Add a Lunch Spot</h1>
    {{> venueAddError}}
    <form id="venue-add-form">
      <label for="name">Name:</label>
      <input type="text" name="name" width=20 /><br />
      <label for="street">Street:</label>
      <input type="text" name="street" width=20 /><br />
      <label for="city">City:</label>
      <input type="text" name="city" width=20 /><br />
      <div><input type="button" class="add" value="Add" /></div>
    </form>
  </div>
</template>

<template name="venueAddError">
{{#if errorMessage}}<span class="error">{{errorMessage}}</span>{{/if}}
</template>
<!-- vim: set autoindent tabstop=2 shiftwidth=2 expandtab wrapmargin=6: -->
